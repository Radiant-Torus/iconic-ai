{
  "query": "-- Add stripeCustomerId to users table\nALTER TABLE `users` ADD COLUMN `stripeCustomerId` varchar(255) AFTER `role`;\n\n-- Add Stripe subscription fields to partners table\nALTER TABLE `partners` ADD COLUMN `stripeSubscriptionId` varchar(255) AFTER `phone`;\nALTER TABLE `partners` ADD COLUMN `subscriptionStatus` varchar(50) DEFAULT 'inactive' AFTER `stripeSubscriptionId`;\nALTER TABLE `partners` ADD COLUMN `pricingTier` varchar(50) DEFAULT 'basic' AFTER `subscriptionStatus`;\nALTER TABLE `partners` ADD COLUMN `subscriptionStartDate` timestamp NULL AFTER `pricingTier`;\nALTER TABLE `partners` ADD COLUMN `subscriptionRenewalDate` timestamp NULL AFTER `subscriptionStartDate`;\n\n-- Create subscriptions table\nCREATE TABLE IF NOT EXISTS `subscriptions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `partnerId` int NOT NULL,\n  `stripeSubscriptionId` varchar(255) NOT NULL UNIQUE,\n  `stripePriceId` varchar(255) NOT NULL,\n  `status` varchar(50) NOT NULL,\n  `currentPeriodStart` timestamp NULL,\n  `currentPeriodEnd` timestamp NULL,\n  `canceledAt` timestamp NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `subscriptions_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user Yyi6wn8M5XV2dt5.root --database HcpbkogjhLSJZAG7aStAVn --execute -- Add stripeCustomerId to users table\nALTER TABLE `users` ADD COLUMN `stripeCustomerId` varchar(255) AFTER `role`;\n\n-- Add Stripe subscription fields to partners table\nALTER TABLE `partners` ADD COLUMN `stripeSubscriptionId` varchar(255) AFTER `phone`;\nALTER TABLE `partners` ADD COLUMN `subscriptionStatus` varchar(50) DEFAULT 'inactive' AFTER `stripeSubscriptionId`;\nALTER TABLE `partners` ADD COLUMN `pricingTier` varchar(50) DEFAULT 'basic' AFTER `subscriptionStatus`;\nALTER TABLE `partners` ADD COLUMN `subscriptionStartDate` timestamp NULL AFTER `pricingTier`;\nALTER TABLE `partners` ADD COLUMN `subscriptionRenewalDate` timestamp NULL AFTER `subscriptionStartDate`;\n\n-- Create subscriptions table\nCREATE TABLE IF NOT EXISTS `subscriptions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `partnerId` int NOT NULL,\n  `stripeSubscriptionId` varchar(255) NOT NULL UNIQUE,\n  `stripePriceId` varchar(255) NOT NULL,\n  `status` varchar(50) NOT NULL,\n  `currentPeriodStart` timestamp NULL,\n  `currentPeriodEnd` timestamp NULL,\n  `canceledAt` timestamp NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `subscriptions_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3305
}